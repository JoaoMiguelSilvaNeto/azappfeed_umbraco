<html>
	<meta charset="UTF-8">
	<header>
	
		<title>AZAPP</title>
		
		<!-- Necessary script to work as WiX app -->
		<script src="//static.parastorage.com/services/js-sdk/1.96.0/js/wix.min.js" type="text/javascript"></script>
		
		<!-- Include javascript file with functions to retrieve feed -->
		<script src="js/feed.js"type="text/javascript"></script>
		
		<!-- Include javascript file with jquery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<!-- Wix Style (wix-param) -->
		<style wix-style>
		
			.wix-style-sample {
            	background: {{style._backgroundColor color-1}};
       		}
       		
       		.sample-content {
       		
            	{{style._descFont Body-M}}
            	color: {{style._descColor color-4}};
            	
        	}
        	
        	.sample-content-title	{
        		
        		{{style._titleFont Body-M}}
            	color: {{style._titleColor color-4}};
            	visibility: {{style._toggleTitle visible}};
        	
        	}
        	
        	.sample-content-link	{
        		
        		{{style._linkFont Body-M}}
            	color: {{style._linkColor color-4}};
            	text-decoration: none;
        	
        	}
        	
		
		</style>

	</header>
	<body class="wix-style-sample">
	
		<script>
			$(document).ready(function() {
				
				//Wix listener to monitor any changes in the settings panel, not related to styles (numbers, booleans, fonts, etc)
		    	Wix.addEventListener(Wix.Events.STYLE_PARAMS_CHANGE, function(event) {
		    		
		    		//console.log(event);
		        	
		    		//Read wix stored variables
		        	var titlebol 		= event['booleans']['_toggleTitle'];
		        	resultsPerPage 		= event['numbers']['_resultsPerPage'];

		        	
		        	//Check if title is to show or hide
		        	if(titlebol)
		        	{
		        		$('#title').show();
		        	}
		        	else
		        	{
		        		$('#title').hide();
		        	}
					
		        	//Send stored category to getFeed
					Wix.Data.Public.get("category", { scope: 'APP' }, function(d)	{
						
							getFeed(d['category'], resultsPerPage);
							
						},function(f){console.log(f)});
		        	
					//get title caption from Wix Public Data
					Wix.Data.Public.get("titleCaption", { scope: 'COMPONENT' }, function(d){
						
						document.getElementById("title").innerHTML = d['titleCaption'];							
						
					},function(f){console.log(f)});
		        	
		        	
		    	});

		  	});
		
		</script>
		
		<!-- table style -->
		<style type="text/css">
	
			.tg 			{
								border-collapse:collapse;
								border-spacing:0;
								overflow-y: auto;
							}
			
			.tg td			{
								font-family:Arial, sans-serif;
								font-size:9px;
								padding:10px 5px;
								border-style:solid;
								border-width:1px;
								overflow:hidden;
								word-break:normal;
								border-color:black;
								border-right: none; 
								border-left:none;
								vertical-align:top;
							}
							
			.tg td div 		{
  								border: 1px hidden gray;
  								height: inherit;
  								width: inherit;
  								overflow: hidden;
  								box-sizing: border-box;
							}
							
			.tg td div img	{
								width:100%;
							}
				
			.tg th			{
								font-family:Arial, sans-serif;
								font-size:9px;
								font-weight:normal;
								padding:10px 5px;
								border-style:solid;
								border-width:1px;
								overflow:hidden;
								word-break:normal;
								border-color:black;
								border-left: 0px solid;
    							border-right: 0px solid;
							}
				
			.tg .tg-0pky	{
								border-color:inherit;
								text-align:left;
								vertical-align:top
							}
							
						
		</style>
		<h2 id="title" class="sample-content-title">Notícias</h2>
		 <div style="display:inline-block; overflow:auto; position: fixed; height:calc(100%-100pc); ">
		<div style="overflow-y: auto; overflow-x: visible; position:relative; margin-left: auto; margin-right: auto;">
			<table id="table1" class="tg">
				<tbody>
 					<!-- <tr>
    					<th class="tg-0pky">Notícias</th>
  					</tr>-->
  				</tbody>
			</table>
		 </div>
		</div>
	</body>
</html>
