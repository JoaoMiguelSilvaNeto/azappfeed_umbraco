<html>
	<meta charset="UTF-8">
	<header>
	
		<title>This is title</title>
		
		<!-- Necessary script to work as WiX app -->
		<script src="//static.parastorage.com/services/js-sdk/1.96.0/js/wix.min.js" type="text/javascript"></script>
		
		<!-- Include javascript file with functions to retrieve feed -->
		<script src="js/feed.js"type="text/javascript"></script>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<!-- Wix Style (wix-param) -->
		<style wix-style>
		
			.wix-style-sample {
            	background: {{style._backgroundColor color-1}};
       		}
       		
       		.sample-content {
       		
            	{{style._descFont Body-M}}
            	color: {{style._descColor color-4}};
            	
        	}
        	
        	.sample-content-title	{
        		
        		{{style._titleFont Body-M}}
            	color: {{style._titleColor color-4}};
            	visibility: {{style._toggleTitle visible}};
        	
        	}
        	
        	.sample-content-link	{
        		
        		{{style._linkFont Body-M}}
            	color: {{style._linkColor color-4}};
            	text-decoration: none;
        	
        	}
        	
		
		</style>

	</header>
	<body class="wix-style-sample">
	
		<script>
			$(document).ready(function() {
			
				//var resultsPerPage = '10';
				//var category = Wix.Data.Public.get("category", { scope: 'APP' }, function(d){},function(f){console.log(f)});
				
				//Wix listener to monitor any changes in the settings panel, not related to styles (numbers, booleans, fonts, etc)
		    	Wix.addEventListener(Wix.Events.STYLE_PARAMS_CHANGE, function(event) {
		    		console.log(event);
		        	
		    		//Read wix stored variables
		        	var titlebol 		= event['booleans']['_toggleTitle'];
		        	resultsPerPage 		= event['numbers']['_resultsPerPage'];

		        	
		        	//Check if title is to show or hide
		        	if(titlebol)
		        	{
		        		$('#title').show();
		        	}
		        	else
		        	{
		        		$('#title').hide();
		        	}
		        	
		        	
		        	
					//Check the feed category selected
		        	/*switch(_categories) {
		            	case 0:
		            		Wix.Data.Public.set("category", 'Noticias', { scope: 'APP' }, 
				        			function(d){},function(f){console.log(f)});
		                	break;
		            	case 1:
		            		Wix.Data.Public.set("category", 'Tweets', { scope: 'APP' }, 
				        			function(d){},function(f){console.log(f)});
		                	break;
		            	case 2:
		            		Wix.Data.Public.set("category", 'Outras', { scope: 'APP' }, 
				        			function(d){},function(f){console.log(f)});
		                	break;
		            	default:
		            		Wix.Data.Public.set("category", 'Noticias', { scope: 'APP' }, 
				        			function(d){},function(f){console.log(f)});
		        	}*/
					
					Wix.Data.Public.get("category", { scope: 'APP' }, function(d){getFeed(d['category'], resultsPerPage)},function(f){console.log(f)});
		        	
		        	
		        	
		    	});
		    	
		    	
		    	//getFeed(category, resultsPerPage);
		    
		  	});
		
		</script>
		
		<!-- table style -->
		<style type="text/css">
	
			.tg 			{
								border-collapse:collapse;
								border-spacing:0;
								overflow-y: auto;
							}
			
			.tg td			{
								font-family:Arial, sans-serif;
								font-size:9px;
								padding:10px 5px;
								border-style:solid;
								border-width:1px;
								overflow:hidden;
								word-break:normal;
								border-color:black;
							}
							
			.tg td div img	{
								width:100%;
							}
				
			.tg th			{
								font-family:Arial, sans-serif;
								font-size:9px;
								font-weight:normal;
								padding:10px 5px;
								border-style:solid;
								border-width:1px;
								overflow:hidden;
								word-break:normal;
								border-color:black;
								border-left: 0px solid;
    							border-right: 0px solid;
							}
				
			.tg .tg-0pky	{
								border-color:inherit;
								text-align:left;
								vertical-align:top
							}
							
						
		</style>
		
		
		
		<div><h2 id="title" class="sample-content-title">Notícias</h2></div>
		<div style="display:block; overflow-y: auto; max-height: 650px;">
			<table id="table1" class="tg">
				<tbody>
 					<!-- <tr>
    					<th class="tg-0pky">Notícias</th>
  					</tr>-->
  				</tbody>
			</table>
		</div>
	</body>
</html>
